@model List<Models.Model.CartProduct>
@{
    ViewBag.Title = "CheckOut";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section ProductJs{
    <!-- cart-js -->
    <script src="~/Asset/Cartpage/web/js/minicart.js"></script>
    <script>
        toys.render();
    </script>
    <!--// cart-js -->
    <!--quantity-->
    <script>
        $('.value-plus').on('click', function () {
            var divUpd = $(this).parent().find('.value'),
                newVal = parseInt(divUpd.text(), 10) + 1;
            divUpd.text(newVal);
        });

        $('.value-minus').on('click', function () {
            var divUpd = $(this).parent().find('.value'),
                newVal = parseInt(divUpd.text(), 10) - 1;
            if (newVal >= 1) divUpd.text(newVal);
        });
    </script>
    <!--quantity-->
    <!--closed-->
    <script>
        $(document).ready(function (c) {
            $('.close3').on('click', function (c) {
                var btn = $(this);
                var idx = btn.data("id")
                toys.cart.remove(idx - 1);
                console.log(toys.cart);
                $('#row_' + idx).fadeOut('slow', function (c) {
                    $('#row_' + idx).remove();
                });
            });
        });
    </script>
    <!--//closed-->
    <!-- start-smoth-scrolling -->
    <script src="js/move-top.js"></script>
    <script src="js/easing.js"></script>
    <script>
        jQuery(document).ready(function ($) {
            $(".scroll").click(function (event) {
                event.preventDefault();
                $('html,body').animate({
                    scrollTop: $(this.hash).offset().top
                }, 900);
            });
        });
    </script>
    <!-- start-smoth-scrolling -->
    <!-- here stars scrolling icon -->
    <script>
        $(document).ready(function () {

            var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear'
            };
            $().UItoTop({
                easingType: 'easeOutQuart'
            });

        });
    </script>
}
<section class="checkout py-lg-4 py-md-3 py-sm-3 py-3">
    <div class="container py-lg-5 py-md-4 py-sm-4 py-3">
        <div class="shop_inner_inf">
            <div class="privacy about">
                <h3>Chec<span>kout</span></h3>
                <div class="checkout-right">
                    <h4>Giỏ hàng hiện có: <span>@Model.Count sản phẩm</span></h4>
                    <table class="timetable_sub">
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Hình ảnh</th>
                                <th>Tên sản phẩm</th>
                                <th>Số lượng</th>
                                <th>Đơn giá</th>
                                <th>Xóa</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                int stt = 1;
                                foreach (var item in Model)
                                {

                                    <tr id="row_@stt">
                                        <td class="invert">@stt</td>
                                        <td class="invert-image"><a href="single.html"><img style="max-width:200px;" src="@item.ProductImage" alt="error" class="img-responsive"></a></td>
                                        <td width="300px" style="overflow: hidden;text-overflow: ellipsis;" class="invert">
                                            @item.ProductName
                                        </td>
                                        <td class="invert">
                                            <div class="quantity">
                                                <div class="quantity-select">
                                                    <div class="entry value-minus">&nbsp;</div>
                                                    <div class="entry value"><span>@item.Count</span></div>
                                                    <div class="entry value-plus active">&nbsp;</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="invert">@item.ProductPrice Vnđ</td>
                                        <td width="70px" class="invert">
                                            <div id="rem_@stt" class="rem">
                                                <div data-id="@stt"  class="close3"> </div>
                                            </div>
                                        </td>
                                    </tr>
                                    stt++;
                                }
                            }

                        </tbody>
                    </table>
                </div>
                <div class="checkout-left">
                    <div class="col-md-4 checkout-left-basket">
                        <h4>Thông tin đơn hàng</h4>
                        <ul>
                            @{ 
                                decimal totalPrice = 0;
                                foreach (var item in Model)
                                {
                                    totalPrice += item.ProductPrice;
                                <li>@item.ProductName <i>-</i> <span>@item.ProductPrice Vnđ </span></li>
                                }
                             }
                            <li>Tổng cộng <i>-</i> <span>@totalPrice Vnđ</span></li>
                        </ul>
                    </div>
                    <div class="col-md-8 address_form">
                        <h4>Thông tin khách hàng</h4>
                        <form action="/Order" method="get" class="creditly-card-form agileinfo_form">
                            <section class="creditly-wrapper wrapper">
                                <div class="information-wrapper">
                                    <div class="first-row form-group">
                                        <div class="controls">
                                            <label class="control-label">Họ và tên *</label>
                                            <input class="billing-address-name form-control" type="text" id="Name" name="Name" placeholder="Họ và tên">
                                        </div>
                                        <div class="card_number_grids">
                                            <div class="card_number_grid_left">
                                                <div class="controls">
                                                    <label class="control-label">Số điện thoại *</label>
                                                    <input class="form-control" id="phone" name="phone" type="text" placeholder="Số điện thoại">
                                                </div>
                                            </div>
                                            <div class="card_number_grid_right">
                                                <div class="controls">
                                                    <label class="control-label">Địa chỉ *</label>
                                                    <input class="form-control" id="address" name="address" type="text" placeholder="Địa chỉ">
                                                </div>
                                            </div>
                                            <div class="card_number_grid_right">
                                                <div class="controls">
                                                    <label class="control-label">Email</label>
                                                    <input class="form-control"  id="email" name="email" type="text" placeholder="Email">
                                                </div>
                                            </div>
                                            <div class="clear"> </div>
                                        </div>
                                        @*<div class="controls">
                                            <label class="control-label">Quận/Huyện </label>
                                            <input class="form-control" type="text" placeholder="Town/City">
                                        </div>*@
                                        @*<div class="controls">
                                            <label class="control-label">Address type: </label>
                                            <select class="form-control option-w3ls">
                                                <option>Office</option>
                                                <option>Home</option>
                                                <option>Commercial</option>
                                            </select>
                                        </div>*@
                                    </div>
                                    <button class="submit check_out">Đặt hàng</button>
                                </div>
                            </section>
                        </form>
                        @*<div class="checkout-right-basket">
                            <a href="payment.html">Thanh toán</a>
                        </div>*@
                    </div>
                    <div class="clearfix"> </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!-- //top products -->
    </div>
</section>

